<?xml version="1.0" encoding="UTF-8"?>
<con:soapui-project id="fe441406-c6d9-4b02-b995-38d657c0b26e" activeEnvironment="Default" name="RESTProject2" resourceRoot="" soapui-version="5.5.0" abortOnError="false" runType="SEQUENTIAL" xmlns:con="http://eviware.com/soapui/config"><con:settings/><con:interface xsi:type="con:RestService" id="7b34767e-283d-464f-ba7a-f0ec8c1153f3" wadlVersion="http://wadl.dev.java.net/2009/02" name="https://restcountries.eu" type="rest" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart=""/><con:endpoints><con:endpoint>https://restcountries.eu</con:endpoint></con:endpoints><con:resource name="All" path="/rest/v2/all" id="1d4c850b-d6ba-423b-b5fb-cc047ecc89f8"><con:settings/><con:parameters/><con:method name="All 1" id="88c8a965-bc79-4d58-80bc-9101a4dd3cbe" method="GET"><con:settings/><con:parameters/><con:representation type="RESPONSE"><con:mediaType>application/json;charset=utf-8</con:mediaType><con:status>200</con:status><con:params/><con:element>Response</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="Request 1" id="d3693b3c-5cd8-4fd9-b33b-faf115c02a0e" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://restcountries.eu</con:endpoint><con:request/><con:originalUri>https://restcountries.eu/rest/v2/all</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="f18b3ded-75fc-4b32-a1eb-931a53a2b811" wadlVersion="http://wadl.dev.java.net/2009/02" name="https://restcountries.eu" type="rest" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart=""/><con:endpoints><con:endpoint>https://restcountries.eu</con:endpoint></con:endpoints><con:resource name="United" path="/rest/v2/name/{countryName}" id="7a47e1f7-3773-4839-b7d8-6f28388a71ea"><con:settings/><con:parameters><con:parameter><con:name>countryName</con:name><con:value/><con:style>TEMPLATE</con:style><con:default/><con:description xsi:nil="true"/></con:parameter></con:parameters><con:method name="United 1" id="12c5717f-86f1-4d3d-a075-dec3aa93c340" method="GET"><con:settings/><con:parameters/><con:representation type="RESPONSE"><con:mediaType>application/json;charset=utf-8</con:mediaType><con:status>200</con:status><con:params/><con:element>Response</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="Request 1" id="a149a0a6-04ee-4a3b-8491-1991fba9d826" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://restcountries.eu</con:endpoint><con:request/><con:originalUri>https://restcountries.eu/rest/v2/name/united</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="countryName" value="india" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>countryName</con:entry></con:parameterOrder></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="3912498e-c2ea-4ad5-9b37-a39447358d1c" wadlVersion="http://wadl.dev.java.net/2009/02" name="https://restcountries.eu" type="rest" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache/><con:endpoints><con:endpoint>https://restcountries.eu</con:endpoint></con:endpoints><con:resource name="Aruba" path="/rest/v2/name/aruba" id="7fe0f2cb-2c0e-4295-b3a7-dc9771d2201a"><con:settings/><con:parameters><con:parameter><con:name>fullText</con:name><con:value>true</con:value><con:style>QUERY</con:style><con:default>true</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter></con:parameters><con:method name="Aruba 1" id="e8f61b85-a0f3-4756-8646-2276223baf1a" method="GET"><con:settings/><con:parameters/><con:representation type="RESPONSE"><con:mediaType>application/json;charset=utf-8</con:mediaType><con:status>200</con:status><con:params/><con:element>Response</con:element></con:representation><con:request name="Request 1" id="253880c5-8dc8-4d18-be9b-6e95890962ab" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://restcountries.eu</con:endpoint><con:request/><con:originalUri>https://restcountries.eu/rest/v2/name/aruba</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="fullText" value="false" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>fullText</con:entry></con:parameterOrder></con:request></con:method></con:resource></con:interface><con:testSuite id="f7b99b46-8a0f-4db1-ad25-27131460dc04" name="TestSuite1"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase id="8d287e16-c0f0-44ef-8eaf-f75da2c862bd" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="TestCase1" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="getAllCountry" id="47cdb169-ff2f-48a4-b2de-4b00b1642482"><con:settings/><con:config service="https://restcountries.eu" resourcePath="/rest/v2/all" methodName="All 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="getAllCountry" id="d3693b3c-5cd8-4fd9-b33b-faf115c02a0e" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://restcountries.eu</con:endpoint><con:request/><con:originalUri>https://restcountries.eu/rest/v2/all</con:originalUri><con:assertion type="Simple Contains" id="ce61f40b-cc53-426c-a5e2-fd67d11099fc" name="Contains"><con:configuration><token>Afghanistan</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="GetCountriesByName" id="878ed554-ea67-4e90-9386-113d725a911e"><con:settings/><con:config service="https://restcountries.eu" resourcePath="/rest/v2/name/{countryName}" methodName="United 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="GetCountriesByName" id="a149a0a6-04ee-4a3b-8491-1991fba9d826" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://restcountries.eu</con:endpoint><con:request/><con:originalUri>https://restcountries.eu/rest/v2/name/united</con:originalUri><con:assertion type="Simple Contains" id="5ce8ce70-e2f2-4e5c-9817-5d08e14eee90" name="Contains"><con:configuration><token>Taiwan</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="4ddc3eb9-93b1-4ae2-a936-63c6b9d90d92" name="Script Assertion"><con:configuration><scriptText>// Get JSON response
import groovy.json.JsonSlurper;
def responseMessage = messageExchange.response.responseContent;
def json = new JsonSlurper().parseText(responseMessage);

//Assert node values
//log.info json.name;
//log.info json.capital.toString();
//log.info json;

assert json.capital.toString().contains("Taipei");
assert json.name.toString().contains("Taiwan");

assert json.capital.toString() == "[Taipei]";
assert json.name.toString() == "[Taiwan]";

//To get the test Step name
def testStepName = messageExchange.modelItem.testStep.name; 
//log.info testStepName;
//To store the response as xml String
def xmlHold = messageExchange.responseContentAsXml.toString();

 </scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="countryName" value="taiwan" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>countryName</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="SetupAndTearDown" id="43d7c47c-9dfb-4b44-94c8-f8a4be80fdf7"><con:settings/><con:config><script>// SetUp and TearDown by GroovyScript
//testRunner.testCase.testSuite.project.getTestSuiteByName('TestSuite1').getTestCaseByName('TestCase1').setSetupScript('log.info "setup for test1"');

//testRunner.testCase.testSuite.project.getTestSuiteByName('TestSuite1').getTestCaseByName('TestCase1').setTearDownScript('log.info "tearDown for test1"');

// Affichage
//log.info ("=>"+testRunner.testCase.getSetupScript()); 
//log.info ("=>"+testRunner.testCase.getTearDownScript()); 
</script></con:config></con:testStep><con:setupScript>log.info "This is setup script"</con:setupScript><con:tearDownScript>log.info "This is tearDown script";</con:tearDownScript><con:properties/></con:testCase><con:properties/><con:setupScript>log.info ("This run before Test Suite in TestSuite");</con:setupScript><con:tearDownScript>log.info ("This run after Test Suite in TestSuite");</con:tearDownScript></con:testSuite><con:properties/><con:afterLoadScript>// Groovy code can be given at project load script to load setup and teardown scripts from file
def su = new File("setup.txt").text;
def td = new File("teardown.txt").text;

project.getTestSuiteList().each{
	testSuite -> testSuite.getTestCaseList().each{ 
		testCase ->
		testCase.setSetupScript(su);
		testCase.setTearDownScript(td);
	}	
}
</con:afterLoadScript><con:wssContainer/><con:oAuth2ProfileContainer/><con:oAuth1ProfileContainer/><con:beforeRunScript>log.info ("This run before Test Suite in Project");</con:beforeRunScript><con:afterRunScript>log.info ("This run after Test Suite in Project");</con:afterRunScript><con:sensitiveInformation/></con:soapui-project>